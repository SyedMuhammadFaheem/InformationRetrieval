xref cantaloupesrvcscmuedu compwindowsxi386unix1136 compunixpcclone32bit2407 compunixbsd13288 compwindowsx66189 companswers363 newsanswers7124 path cantaloupesrvcscmuedudasnewsharvardeduogicseuwmeduzaphodmpsohiostateeducsutexaseduutnutskuleecfsteve from steveecftorontoedu steve kotsopoulos newsgroups compwindowsxi386unixcompunixpcclone32bitcompunixbsdcompwindowsxcompanswersnewsanswers subject x on intelbased unix frequently asked questions faq summary x options for intelbased unix sysv386 386bsd linux mach messageid c4ri7o4bwecftorontoedu date 31 mar 93 163808 gmt articleid ecfc4ri7o4bw expires sat 1 may 1993 040000 gmt sender steveecftorontoedu steve kotsopoulos replyto steveecftorontoedu followupto poster organization university of toronto engineering computing facility lines 530 approved newsanswersrequestmitedu archivename intelunixxfaq lastmodified 30 mar 1993 note this is a major reorganization and replacement of my frequently asked questions about x386 faq list this article includes answers to i what options do i have for x software on my intelbased unix system free options commercial options ii what is xfree86 and where do i get it what is xfree86 what oss are supported what video hardware is supported what about accelerated boards why doesnt xfree86 support 16color vga modes what other hardware or software requirements are there where can i get source for xfree86 where can i get binaries for xfree86 iv what general things should i know about running xfree86 installation directories configuration files determining vga dot clocks and monitor modes rebuildingreconfiguring the server from the link kit v what osspecific things should i know about running xfree86 svr4 svr3 386bsd linux mach vi what things should i know for building xfree86 from source vii is there anything special about building clients with xfree86 bsd compatibility library ansiccoptions this article does not include answers to general x questions since these are already covered by the x faq that is regularly posted by david b lewis faqcraftuunetuunet if you have anything to add or change on the faq just let me know especially if you had a problem that someone else was able to help you with send changes to steveecftorontoedu please put faq somewhere in the subject line so that my mail filter will put it in the correct mail folder please do not ask me questions that are not answered in the faq i do not have time to respond to these individually instead post your question to the net and send me the question and answer together when you get it frequently asked questions about x on intelbased unix with answers i what options do i have for x software on my intelbased unix system 1 free options best option is xfree86 which is an enhanced version of x386 12 other version of x386 will have slower performance and will more difficult to compile information on how to obtain xfree86 listed below is the port of the x11 server to system v386 that was by thomas roell roellsgcscom supports a wide variety of svga boards are 2 major free versions x386 11 is based on x11r4 12 is included in mits x11r5 distribution ie you need to patch it into the mit source any more 13 is the current commercial offering from sgcs see below 2 commercial options 1 metro link w mcnab road beach fl 33069 9707353 305 9707351 salesmetrolinkcom os qnx svr3 svr4012 sco unixware lynxos venix isc solaris pyramid sunos hw ega vga svga tiga targa 8514a mach wd fujistu matrox microfield graphics r33020 other motif openlookxview xie imaging extension video extension audio drivers multi media 2 sgcs snitily graphics consulting services brookgrove lane ca 95014 6455501 408 2559665 408 2559740 infosgcscom or mipszokinfo os svr32 svr4 hw 8514a ati ultra s3 diamond stealth svga other motif dualheaded server 3 consensys corporation pat booker rd city tx 78148 18003881896 14169402903 infoconsensyscom os consensys v42 consensys version of unix system v release 42 hw x11r4 server support for vga svga other moolit motif x11r5 clients 4 the santa cruz operation inc box 1900 cruz california 95061 425 7222 800 sco unix 408 458 4227 infoscocom os odt 11 odt 20 sco unix 32v4 hw x11r4 server support for svga 8514a s3 tms340x0 wd90c31 xga2 assorted local bus see sco hardware compatabilty guide for actual card vendors other 5 answer software consulting box 14171 ohio 43214 salesx4cohercom os coherent 401r72 or greater hw works with any vesa compliant video note other commercial vendors including os vendors describing software are welcome to submit summary information information such as the above ii what is xfree86 and where do i get it 3 what is xfree86 xfree86 is an enhanced version of x386 12 which was distributed with x11r5 this release consists of many bug fixes speed improvements and other enhancements here are the highlights of the enhancements 1 the speedup package from glenn lai is an integral part of xfree86 selectable at runtime via the xconfig file some speedups require an et4000 based svga and others require a virtual screen width of 1024 the speedups suitable to the configuration are selected by default with a highquality et4000 board vram this can yield up to 40 improvement of the xstones benchmark over x386 12 2 the fx386 packages from jim tsillas are included as the default operating mode if speedup is not selected this mode is now equivalent in performance to x386 11b x11r4 and approximately 20 faster than x386 12 3 support for localconn compiletime selectable for server clients or both this support is for both svr32 and svr4 for svr404 with the advanced compatibility package local connections from sco xsightodt clients are supported 4 drivers for ati and trident tvga8900c and tvga9000 svga chipsets refer to the files readmeati and readmetrident for details about the ati and trident drivers 5 support for compressed bitmap fonts has been added thomas eberhardts code from the contrib directory on exportlcsmitedu 6 type1 font code from mit contrib tape has been included and is compiletime selectable there are contributed type1 fonts in the contrib directory on exportlcsmitedu 7 new configuration method which allows the servers drivers and font renderers to be reconfigured from both source and binary distributions 8 integrated support for 386bsd mach and linux 9 a monochrome version of the server which will run on generic vga cards is now included the following key features were added with the release of xfree86 12 they were not in xfree86 11 1 the monochrome server has been enhanced to do bankswitching of available svga memory to allow virtual screens up to 1600x1200 see the x3861 manual page for more information 2 support for the hercules mono card has been added to the monochrome server and with it the ability to support a two headed server one vga and one hercules so far this has only been tested on svr4 it is also reported to work under linux 3 svr3 shared libraries tested under isc svr3 22 and 301 4 support for svr42 there are some special considerations to consider due to new usl bugs see the readmesvr4 file for more information 5 support for ps2 mice and logitech mousemantrackman some versions of these devices were not previously compatible 6 a new tutorial on how to develop correct video card and monitor timing data written by eric raymond derived from previous documentation and a lot of experimentation 7 greatly improved support for international keyboards including implementation of the compose key functionality found on many vendor servers see the x386keybd1 manual page for more information 8 the accuracy with which the server detects svga pixel clocks has been improved and the timings are now stored at accuracies of 01 mhz users may want to consider removing an existing clocks line from their xconfig file and reprobing using the new server 9 many enhancements in error handling and parsing of the xconfig configuration file error messages are much more informative and intuitive and more validation is done there are many new options that can be enabled in the xconfig file see the x3861 manual page for more information on the format of this file plus a number of other small things refer to the changelog file in the source distribution for full details also included are a tutorial on monitor timing by eric raymond and the current x386 mode database and a sample xdm configuration by david wexelblat 4 what oss are supported xfree86 supports consensys v42 microport dell esix isc att mst consensys uhc isc 22 30 att 22 mach 386 386bsd 01 is not supported but it should work the most active person is greg lehey groglemisde that esix 32d and sco are not supported yet anyone should feel free to submit patches you are interested in tackling this send mail to 5 what video hardware is supported at this time xfree86 12 supports the following svga chipsets et4000 et3000 pvga1 digital wd90c00 wd90c10 wd90c11 these are supersets of pvga1 and use its driver gvga tvga8900c tvga9000 18800 28800 of the above are supported in both 256 color and monochrome modes the exception of the ati chipsets which are only supported in color mode monochrome server also supports generic vga cards using 64k of memory in a single bank and the hercules card on the only 64k of video memory is supported for the monochrome and the gvga has not been tested with more than 64k appears that some of the svga card manufacturers are going to mechanisms for selecting pixelclock frequencies to having to modify the server to accommodate these schemes xfree86 adds support for using an external program to select the pixel this allows programs to be written as new mechanisms are refer to the readmeclkprog file for information on how programs work if you need to write one if you do develop such program the xfree86 team would be interested in including it with xfree86 releases you are purchasing new hardware for the purpose of using xfree86 is suggested that you purchase an et4000based board such as the prodesigner iis avoid recent diamond boards xfree86 will not with them because diamond wont provide programming details fact the xfree86 project is actively not supporting new diamond as long as such policies remain in effect contributions code will not be accepted because of the potential liabilities you would like to see this change tell diamond about it people have asked if xfree86 would work with local bus or eisa cards theoretically the means of communication between the and the video card is irrelevant to xfree86 compatibility it be isa eisa or local bus what should matter is the chipset the video card unfortunately the developers dont have a lot access to eisa or vlb machines so this is largely an untested however we have yet to see any reports of things not on one of these buses and we have several reports of xfree86 fine on them 6 what about accelerated boards this time there is no support in xfree86 for accelerated boards the s3 ati ultra 8514a tiga etc this support is available commercial products from sgcs and metrolink for svr3 and svr4 s3 server is available for 386bsd and linux contact for 386bsd or jonrobotsoxacuk for linux beta 8514a server is available for linux contact martincsuncedu jonrobotsoxacuk note these servers are not part of xfree86 7 why doesnt xfree86 support 16color vga modes reason that this is not supported is the way vga implements the modes in 256color modes each byte of frame buffer memory 1 pixel but the 16color modes are implemented as bit each byte of frame buffer memory contains 1 bit from each each of 8 pixels and there are four such planes the mit frame code is not designed to deal with this if vga handled modes by packing 2 4bit pixels into each byte the mit code be modified to support this or it already may im not sure for the vga way of doing things a complete new framebuffer is required some beta testers are looking into this nothing is yet available from the project 8 what other hardware or software requirements are there a supported svga board and os are required to run efficiently 1216mb of memory should be considered a minimum various binary releases take 1040mb of disk space depending the os eg whether or not it supports shared libraries build from sources at least 80mb of free disk space will required although 120mb should be considered a comfortable bound 9 where can i get source for xfree86 patches for the current version 12 based on x11r5 pl22 mit are available via anonymous ftp from under contribxfree86 under xfree86 under pubxfree86 the rest of this faq these 3 location will be called ftp to the readme file under the specified directory for information which files you need to get to build your distribution 10 where can i get binaries for xfree86 are available via anonymous ftp from svr4 binaries xfree86svr4 svr4 binaries pubxfree86svr4 svr4 binaries pubsvr4xfree86 svr4 binaries pubxfree86svr4 svr3 isc binaries pubisc svr3 isc binaries pubpciscxfree86 linux binaries publinuxpackagesx11 386bsd binaries pub386bsd01portsxfree86 mach binaries i386 that you are getting xfree86 12 some of these sites may older releases as well each binary distribution will a readme file that describes what files you need to take the archive and which compiletime option selections were when building the distribution iv what general things should i know about running xfree86 11 installation directories toplevel installation directory is specified by the projectroot by default variable in configsitedef binaries include and libraries are installed in projectrootbinincludelib can be changed when rebuilding from sources and can be modified symbolic links for those oss that support them this directory is and was chosen this way to allow xfree86 to be installed a commercialvendorsupplied x implementation 12 configuration files xfree86 server reads a configuration file xconfig on startup search path contents and syntax for this file are documented in server manpage which should be consulted before asking questions 13 determining vga dot clocks and monitor modes e wexelblat dwexmtgzfs3attcom maintains a database of known settings for vga cards and monitor settings database is installed in usrx386libx11etcmodedbtxt and in the source tree under mitserverddxx386etc this database is available from him for the latest copy and is kept on in contribx386modedbz which is updated obtain a copy of this database it just might have the you need if you create new settings please send them to for inclusion in the database this doesnt help you the videomodesdoc by eric raymond file xfree86 contains tutorials on how to come up with these timings may be helpful to start with settings that almost work and use description to get them right when you do send the information david wexelblat for inclusion in the database the old clockexe program is not supported any more and is completely unnecessary if you need to determine dot clock values for a new board remove the clocks line from your xconfig file if present and start the server the server will probe for clocks itself and print them out you can use these values to put a clocks line into your xconfig file which is not necessary but will speed up starting the server in the future 14 rebuildingreconfiguring the server from the link kit you have installed the server binary link kit it is possible to the drivers and font renderers in the server this is explained in the readme file that is available with the link kit v what osspecific things should i know about running xfree86 of all the server must be installed suidroot mode 4755 15 svr4 wont my xterm run properly your kernel is not built with the consem module you should define in you environment otherwise xterm wont run users should use setenv consem no esix console driver patch 403019 is known to cause keymapping with xfree86 it recommended that this patch not be alternatively they keymap can be fixed with xmodmap 16 svr3 sure you look at ftpreadmeisc if thats what you are running 17 386bsd sure you look at ftpreadme386bsd a separate 386bsd faq is maintained by richard murphey the latest version should be available in the xfree8612386bsdfaq at the following ftp sites agateberkeleyedupub386bsd01portsxfree8612 wuarchivewustledumirrors4386bsd01portsxfree8612 grasp1univlyon1frpub386bsd01portsxfree8612 18 linux must be running linux 097pl4 or greater and have the 41 gcc libraries installed sure the binaries x386 x386mono xload and xterm are setuid root your kernel doesnt have tcp support compiled in youll have to the server as x pn the default startup configuration assumes tcp is not available if it is change the two files and usrx386libx11xdmxservers removing the argument to x386 sure devconsole is either a link to devtty0 or has the major 4 minor number 0 also note that if devconsole is not by the user running x then xconsole and xterm will not permit output redirection xdm will properly change the owner but wont running xdm from rclocal you will need to provide it with tty for example xdm devconsole more detailed information please read the file readme present the distribution on tsx11mitedu 19 mach sure you look at ftpreadmemach vi what things should i know for building xfree86 from source section has been removed from the faq since it is explained in ftpreadme and the osspecific readmes look at those files for information on building xfree86 vii is there anything special about building clients with xfree86 20 bsd compatibility library lot of clients make use of bsd functions like bcopy etc default configuration files are set up to link with libxbsda contains emulation for bcopy bzero bcmp ffs random a better way of providing the b functions is to include in source files that call them xfuncsh provides macro for these in terms of the sysv mem functions if you are with a vendor supplied library which calls some of these then you should link with libxbsda 21 ansiccoptions is something that was added to allow a developer to get rid of the defined in the default ccoptions without having to rewrite entire ccoptions line for example with stock mit youd see like o2 fwritablestrings to get rid of the ansiness the developer would have to put fwritablestrings his imakefile with this change you would see a default of fwritablestrings all the developer would have to put in the imakefile is get rid of the ansiness many x clients will die a horrible death ansi the effect is even more dramatic in practice because is actually quite complex the other issue is that one must ansiccoptionsansiccoptions to a passcdebugflags definition xfree86 contact information ongoing development planning and support is coordinated by the xfree86 core team at this time the core team consists of original gang of four dawes dawesphysicssuozau lai glenncsutexasedu tsillas jtsilladamonccsnortheasternedu wexelblat dwexmtgzfs3attcom supporting nonsysv operating systems baron robertbaronernstmachcscmuedu mach murphey richriceedu 386bsd zborowski obzkodakcom linux email sent to xfree86physicssuozau will reach all of the core team thanks to all the people who already sent me corrections or additions especially david wexelblat one of the major contributors of updates steve kotsopoulos peng mail steveecftorontoedu systems analyst bitnet steveecfutorontobitnet engineering computing facility uucp uunetutaiecfsteve university of toronto phone 416 9785898